var LIBRARY_NAME="localizandroid.js";var AVAILABLE_CODES=new Array("oc","ca","en","es");var DEFAULT_CODE="en";function getLanguage(){var a=navigator.language||navigator.userLanguage;a=a.substr(0,2);if($.inArray(a,AVAILABLE_CODES)==-1||a==null){a=DEFAULT_CODE}return a}$(function(){$.mobile.loading("show",{text:"initializing",textVisible:true,theme:"b",html:""});var c=getLanguage();console.log(LIBRARY_NAME+" Language is: "+c);var e="-"+c;var a=$(".localizable").get();var d=(a===undefined)?0:a.length;console.log(LIBRARY_NAME+" Resources found: "+d);var b=0;$.ajax({type:"GET",url:"strings/values"+e+"/strings.xml",dataType:"xml",cache:"true",success:function(f){$(a).each(function(j,k){if($(k).data().lclstring!=undefined){var l=$(k).data("lclstring");var i=$(f).find('string[name="'+l+'"]').text();i=i.replace(/\\/g,"");$(k).html(i)}if($(k).data().lclstringarray!=undefined){var l=$(k).data("lclstringarray");var h=$(f).find('string-array[name="'+l+'"]');var g=$(k).data("lclstringarraypos");var i=h.find("item")[g].textContent;i=i.replace(/\\/g,"");$(k).html(i)}b++;if(b==d){$.mobile.loading("hide")}})}})});