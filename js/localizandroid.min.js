(function(f){var e={langCodes:["en"],defaultCode:"en",forceLanguage:""};var c,b,g,j,h,i;var a="localizandroid.js";var d={init:function(k){console.log(a+" init()");c=f.extend({},e,k);b=d.getLanguage.apply(this,[c]);console.log(a+" Language is: "+b);g="-"+b;d.doWork.apply();return this},doWork:function(){console.log(a+" doWork()");f.mobile.loading("show",{text:"localizing to..."+b,textVisible:true,theme:"b",html:""});j=f(".localizable").get();h=(j===undefined)?0:j.length;console.log(a+" Resources found: "+h);var k=0;f.ajax({type:"GET",url:"strings/values"+g+"/strings.xml",dataType:"xml",cache:"true",success:function(l){i=l;f(j).each(function(p,q){if(f(q).data().lclstring!=undefined){var r=f(q).data("lclstring");var o=f(l).find('string[name="'+r+'"]').text();o=o.replace(/\\/g,"");f(q).html(o)}if(f(q).data().lclstringarray!=undefined){var r=f(q).data("lclstringarray");var n=f(l).find('string-array[name="'+r+'"]');var m=f(q).data("lclstringarraypos");var o=n.find("item")[m].textContent;o=o.replace(/\\/g,"");f(q).html(o)}k++;if(k==h){f.mobile.loading("hide")}})}})},getLanguage:function(k){console.log(a+" getLanguage()");if(k.forceLanguage==""){b=navigator.language||navigator.userLanguage;b=b.substr(0,2)}else{b=k.forceLanguage}if(f.inArray(b,k.langCodes)==-1||b==null){b=k.defaultCode}return b},getString:function(k){console.log(a+" getString()");var l=f(i).find('string[name="'+k+'"]').text();l=l.replace(/\\/g,"");return l}};f.fn.localizandroid=function(k){if(d[k]){return d[k].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof k==="object"||!k){return d.init.apply(this,arguments)}else{f.error("Method "+k+" does not exist on jQuery.localizandroid")}}}})(jQuery);