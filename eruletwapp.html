<!doctype html>
<html manifest="erulet.appcache">
<head>
    <title>Erulet</title>
    <meta charset="UTF-8">
    <meta Name="description" Content="Erulet HTML5 web application.">
    <meta HTTP-EQUIV="description" Content="Erulet HTML5 web application.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
    <link rel="stylesheet" href="css/eruletwapp.css">
    <link rel="apple-touch-icon-precomposed" href="images/ic_launcher.png">
    <link rel="apple-touch-startup-image" href="images/ic_launcher.png">
    <link rel="icon" type="image/jpg" href="images/ic_launcher.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>

    <!--<script>L_PREFER_CANVAS = true;</script>-->
    <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>

    <script src="js/leaflet.functionaltilelayer.js"></script>
    <script src="js/L.Grid.js"></script>

    <script src="js/jszip.min.js"></script>

    <script src="js/pouchdb-3.1.0.min.js"></script>
    <script src="js/offlinemaps.js"></script>
    <script src="js/localizandroid.min.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/global.js"></script>
    <script src="js/sql.js"></script> <!-- load asynchronous to avoid UI freeze (it takes over 2 seconds to load) -->

</head>
<body>
<div data-role="page" id="switchboard" data-theme="b">

    <div data-role="header">
        <h1 class="localizable" data-lclstring="app_name"></h1>

        <a href="#popupOptions" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn ui-mini ui-icon-gear ui-btn-icon-left ui-corner-all ui-btn-icon-notext localizable" data-lclstring="opcions"></a>

        <div id="sessionControl" data-role="controlgroup" data-type="horizontal" class="ui-mini ui-btn-right">
            <a id="registerAnchor" href="#register" class="ui-btn ui-mini ui-icon-user ui-btn-icon-notext ui-btn-icon-right ui-corner-all localizable" data-lclstring="register"></a>
            <a id="loginAnchor" href="#login" class="ui-btn ui-mini ui-icon-action ui-btn-icon-notext ui-btn-icon-right ui-corner-all localizable" data-lclstring="login"></a>
            <a id="logoffAnchor" href="" class="ui-btn ui-mini ui-icon-power ui-btn-icon-notext ui-btn-icon-right ui-corner-all localizable" data-lclstring="logoff"></a>
        </div>
    </div><!-- /header -->

    <div data-role="content" role="main" class="ui-content">
        <div class="switchboard-content-wrapper">
            <img class="img_center" src="images/ic_erulet_new.png" style="max-height:64px;" >
            <p class="localizable" data-lclstring="erulet" style="text-align:center;"></p>
            <p class="localizable" data-lclstring="erulet_lore" style="font-size:12px;"></p>

            <img class="img_center" src="images/launcher200.png" style="max-height:64px;" >
                <div class="ui-grid-solo"><a href="#user_manual" id="switchboard_button_manual" class="ui-btn ui-shadow ui-corner-all ui-btn-icon-left ui-icon-infoicon ui-mini localizable" data-lclstring="user_manual"></a></div>
                <div class="ui-grid-solo"><a href="#security_recom" id="switchboard_button_security" class="ui-btn ui-shadow ui-corner-all ui-btn-icon-left ui-icon-referenceicon ui-mini localizable" data-lclstring="security_recomm"></a></div>
                <div class="ui-grid-solo"><a href="#credits" id="switchboard_button_credits" class="ui-btn ui-shadow ui-corner-all ui-btn-icon-left ui-icon-creditsicon ui-mini localizable" data-lclstring="credits" ></a></div>
                <div class="ui-grid-solo"><a href="#trip_select" id="switchboard_button_trip" class="ui-btn ui-shadow ui-corner-all ui-btn-icon-left ui-icon-itineraryicon ui-mini localizable" data-lclstring="trip_selection"></a></div>

        </div>
    </div><!-- /content -->

    <div data-role="popup" id="popupOptions" data-overlay-theme="b" data-theme="b" data-dismissible="true">
        <div data-role="header" data-theme="a">
            <h1 class="localizable" data-lclstring="app_name"></h1>
        </div>
        <div role="main" class="ui-content" id="optionsHTML">
            <div>

                <form>
                        <fieldset data-role="controlgroup" id="langSelector" data-mini="true">
                            <legend class="localizable" data-lclstring="language"></legend>
                            <legend class="localizable" data-lclstring="refresh_web"></legend>
                            <input name="langChoice" id="langChoice1" value="oc" type="radio">
                            <label for="langChoice1" class="localizable" data-lclstring="lang_gsc_es"></label>
                            <input name="langChoice" id="langChoice2" value="ca" type="radio">
                            <label for="langChoice2" class="localizable" data-lclstring="lang_ca"></label>
                            <input name="langChoice" id="langChoice3" value="es" type="radio">
                            <label for="langChoice3" class="localizable" data-lclstring="lang_es_es"></label>
                            <input name="langChoice" id="langChoice4" value="en" type="radio">
                            <label for="langChoice4" class="localizable" data-lclstring="lang_en"></label>
                            <input name="langChoice" id="langChoice5" value="fr" type="radio">
                            <label for="langChoice5" class="localizable" data-lclstring="lang_fr"></label>
                            <input name="langChoice" id="langChoice6" value="" type="radio">
                            <label for="langChoice6" class="localizable" data-lclstring="lang_device"></label>
                        </fieldset>
                </form>
                <a href="#" id="closeButton" class="ui-btn ui-corner-all ui-shadow ui-btn-b localizable" data-lclstring="yes" data-rel="back">OK</a>
            </div>
        </div>
    </div>
    <!-- /Popups -->
</div><!-- /page -->

<!-- Start of second page -->
<div data-role="page" id="user_manual" data-theme="b">
    <div data-role="header">
        <h1 class="localizable" data-lclstring="app_name"></h1>
        <a href="#switchboard" class="ui-btn ui-mini ui-btn-left ui-btn-icon-left ui-btn-icon-notext ui-icon-home ui-corner-all localizable" data-lclstring="home"   data-direction="reverse"></a><!-- home button -->
    </div><!-- /header -->

    <div id="manual" class="loadHTML"><!-- placeholder for external file -->

    </div>
</div><!-- End of second page -->

<!-- Start of third page -->
<div data-role="page" id="security_recom" data-theme="b">

    <div data-role="header">
        <h1 class="localizable" data-lclstring="app_name"></h1>
        <a href="#switchboard" class="ui-btn ui-mini ui-btn-left ui-btn-icon-left ui-btn-icon-notext ui-icon-home ui-corner-all localizable" data-lclstring="home"   data-direction="reverse"></a><!-- home button -->
    </div><!-- /header -->
    <div id="before_leaving" class="loadHTML"><!-- placeholder for external file -->

    </div>

    <script>
    </script>
</div><!-- End of third page -->

<!-- Start of fourth page -->
<div data-role="page" id="credits" data-theme="b">

    <div data-role="header">
        <h1 class="localizable" data-lclstring="app_name"></h1>
        <a href="#switchboard" class="ui-btn ui-mini ui-btn-left ui-btn-icon-left ui-btn-icon-notext ui-icon-home ui-corner-all localizable" data-lclstring="home"   data-direction="reverse"></a><!-- home button -->
    </div><!-- /header -->

    <div id="about" class="loadHTML"><!-- placeholder for external file -->

    </div>

</div><!-- End of fourth page -->

<!-- Start of fifth page -->
<div data-role="page" id="trip_select" data-theme="b">

    <div data-role="header">
        <h1 class="localizable" data-lclstring="trips"></h1>
        <a href="#switchboard" class="ui-btn ui-mini ui-btn-left  ui-btn-icon-left ui-btn-icon-notext ui-icon-home ui-corner-all localizable" data-lclstring="home"   data-direction="reverse"></a><!-- home button -->

        <div data-role="controlgroup" id="routeButtons" data-type="horizontal" class="ui-mini ui-btn-right">
            <a href="#popupDloads" data-rel="popup" data-position-to="origin" data-transition="flow" class="ui-btn ui-mini ui-btn-icon-right ui-corner-all ui-btn-icon-notext ui-icon-arrow-d localizable" data-lclstring="download"></a>
            <a href="#popupDialog" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn ui-mini ui-btn-icon-right ui-corner-all ui-btn-icon-notext ui-icon-delete localizable" data-lclstring="dl_clear"></a>
            <a href="#popupSync" data-rel="popup" data-position-to="window" data-transition="pop" class="ui-btn ui-mini ui-btn-icon-right ui-corner-all ui-btn-icon-notext localizable ui-icon-recycle" data-lclstring="sync"></a>

        </div>

    </div><!-- /header -->
    <!--<p class="localizable" data-lclstring="offline_advice"></p>-->

    <div id="map"></div>

    <!-- Popups -->
    <div data-role="popup" id="popupDloads">
        <div data-role="header">
            <h3 class="localizable" data-lclstring="downloads">Downloads</h3>
        </div>
        <div data-role="main" class="ui-content dloadPopup">
            <div class="ui-grid-b">
                <img id="dloadGMapStatusIcon" class="ui-block-a status-led status-led-gmap">
                <p id="dloadGMapStatus" class="ui-block-b localizable" data-lclstring="general_map_status"></p>
                <p id="dloadGMapStatusText" class="ui-block-c status-text status-text-gmap">?</p>

                <img id="dloadGContentStatusIcon" class="ui-block-a status-led status-led-gcontent">
                <p id="dloadGContentStatus" class="ui-block-b localizable" data-lclstring="general_data_status"></p>
                <p id="dloadGContentStatusText" class="ui-block-c status-text status-text-gcontent">?</p>
            </div>
            <b id="dloadRName" class="status-text status-text-rname">-</b>
            <div class="ui-grid-b">
                <img id="dloadRMapStatusIcon" class="ui-block-a status-led status-led-rmap">
                <p id="dloadRMapStatus" class="ui-block-b localizable" data-lclstring="route_map_status"></p>
                <p id="dloadRMapStatusText" class="ui-block-c status-text status-text-rmap">?</p>

                <img id="dloadRContentStatusIcon" class="ui-block-a status-led status-led-rcontent">
                <p id="dloadRContentStatus" class="ui-block-b localizable" data-lclstring="route_data_status"></p>
                <p id="dloadRContentStatusText" class="ui-block-c status-text status-text-rcontent">?</p>

            </div>
        </div>
    </div>
    <div data-role="popup" id="popupSync" data-overlay-theme="b" data-theme="b" data-dismissible="false">
        <div data-role="header" data-theme="a">
            <h1 class="localizable" data-lclstring="sync"></h1>
        </div>
        <div role="main" class="ui-content">
            <h5 class="ui-title localizable" id="syncDescription" data-lclstring="offline_advice"></h5>

            <div id="routeControls">
                <div data-role="collapsible" data-mini="true" data-collapsed-icon="carat-d" data-expanded-icon="carat-u" data-iconpos="right">
                    <h4>
                        <div class="ui-grid-b">
                            <img id="routeDataStatusIcon" class="status-led status-led-rmap ui-block-a">
                            <p id="routeDataStatusText" class="status-text status-text-rmap ui-block-b localizable">?</p>
                            <p id="routeDataStatusHeader" class="localizable ui-block-c" data-lclstring="route_data_status"></p>
                        </div>
                    </h4>
                    <div class="ui-field-container">
<!--                        <label for="selectRoutes" class="localizable" data-lclstring="offline_advice"></label>-->
                        <select name="selectroutes" id="selectRoutes">
                            <option value=""></option>
                        </select>
                    </div>
                </div>

                <div data-role="collapsible" data-mini="true" data-collapsed-icon="carat-d" data-expanded-icon="carat-u" data-iconpos="right">
                    <h4>
                        <div class="ui-grid-b">
                            <img id="generalMapStatusIcon" class="status-led status-led-gmap ui-block-a">
                            <p id="generalMapStatusText" class="status-test status-text-gmap ui-block-b localizable">?</p>
                            <p id="generalMapStatusHeader" class="localizable ui-block-c" data-lclstring="general_map_status"></p>
                        </div>
                    </h4>
                    <label>
                        <input id="generalMapCheckbox" name="checkbox-0 " type="checkbox"> <p class=" ui-mini localizable" data-lclstring="general_map"></p> </input>
                    </label>
                </div>
                <div data-role="collapsible" data-mini="true" data-collapsed-icon="carat-d" data-expanded-icon="carat-u" data-iconpos="right">
                    <h4>
                        <div class="ui-grid-b">

                            <img id="generalDataStatusIcon" class="status-led status-led-gdata ui-block-a">
                            <p id="generalDataStatusText" class="status-text status-text-gdata ui-block-b localizable">?</p>
                            <p id="generalDataStatusHeader" class="localizable ui-block-c" data-lclstring="general_data_status"></p>
                        </div>
                    </h4>
                    <label>
                        <input id="routeDataCheckbox" name="checkbox-0 " type="checkbox"> <p class=" ui-mini localizable" data-lclstring="routes_data"></p> </input>
                    </label>
                </div>
                <p id="#syncRouteDescription"></p>
            </div>
            <a id="syncPopupYes" href="#" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b localizable" data-lclstring="yes" data-rel="back">OK</a>
            <a href="#" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b localizable" data-lclstring="cancel" data-rel="back">Cancel</a>
        </div>
    </div>

    <div data-role="popup" id="popupRoute" data-overlay-theme="b" data-theme="b" data-dismissible="false" >
        <div data-role="header" data-theme="a">
            <h1 class="localizable" data-lclstring="trip_description_comp"></h1>
        </div>
        <div role="main" class="ui-content">
            <h5 class="ui-title" id="routeDescription"></h5>
            <a href="#" id="routeDownload" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b localizable route-desc-button route-desc-button-dload" data-lclstring="download" data-rel="back"></a>
            <a href="#" id="routeView" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b localizable route-desc-button route-desc-button-dloaded" data-lclstring="trip_option_1" data-rel="back"></a>
            <a href="#" id="routeSelect" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b localizable route-desc-button route-desc-button-dloaded" data-lclstring="trip_option_2" data-rel="back" data-transition="flow"></a>
            <a href="#" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b localizable" data-lclstring="cancel" data-rel="back">Cancel</a>
        </div>
    </div>

    <div data-role="popup" id="popupDialog" data-overlay-theme="b" data-theme="b" data-dismissible="false" style="max-width:500px;">
        <div data-role="header" data-theme="a">
            <h1 class="localizable" data-lclstring="app_name">Erulet</h1>
        </div>
        <div role="main" class="ui-content">
            <h3 class="ui-title localizable" data-lclstring="confirm_delete"></h3>

            <label>
                <input id="deleteDBCheckbox" name="checkbox-0 " type="checkbox"> <p class=" ui-mini localizable" data-lclstring="deleteDB"></p> </input>
            </label>

            <label>
                <input id="deleteLocalCheckbox" name="checkbox-0 " type="checkbox"> <p class=" ui-mini localizable" data-lclstring="deleteLocal"></p> </input>
            </label>

            <a href="#" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b localizable" data-lclstring="cancel" data-rel="back">Cancel</a>
            <a href="#" id="dl_clear" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b localizable" data-lclstring="yes" data-rel="back" data-transition="flow">Delete</a>
        </div>
    </div>

    <div data-role="popup" id="popupDataPresent" data-overlay-theme="b" data-theme="b" data-dismissible="false" style="max-width:400px;">
        <div data-role="header" data-theme="a">
            <h1 class="localizable" data-lclstring="app_name">Erulet</h1>
        </div>
        <div role="main" class="ui-content">
            <h3 class="ui-title localizable" data-lclstring="data_present"></h3>
            <a href="#" id="dataPresentButton" class="ui-btn ui-corner-all ui-shadow ui-btn-b localizable" data-lclstring="yes" data-rel="back">OK</a>
        </div>
    </div>

    <div data-role="popup" id="waypointHtmlPopup" data-overlay-theme="b" data-theme="b" data-dismissible="false">
        <div data-role="header" data-theme="a">
            <h1 class="localizable" data-lclstring="detail_highlight">Erulet</h1>
        </div>
        <div role="main" class="ui-content">
            <div id="waypointHtmlPopup_content"></div>
            <a href="#" id="waypointHtmlButton" class="ui-btn ui-corner-all ui-shadow ui-btn-b localizable" data-lclstring="yes" data-rel="back">OK</a>
        </div>
    </div>

    <div data-role="popup" id="waypointInfoPopup" data-overlay-theme="b" data-theme="b" data-dismissible="false" style="max-width:400px;">
        <div data-role="header" data-theme="a">
            <h1 class="localizable" data-lclstring="detail_highlight">Erulet</h1>
        </div>
        <div role="main" class="ui-content">
            <img id="waypointInfoImgHeader" src="icons/pin_chart.png"></br>
            <b id="waypointInfoName" class="localizable" data-lclstring="point_name"></b><p id="waypointInfoNameField"></p>
            <b id="waypointInfoDesc" class="localizable" data-lclstring="description"></b><p id="waypointInfoDescField"></p>
            <b id="waypointInfoLat" class="localizable" data-lclstring="latitude"></b><p id="waypointInfoLatField"></p>
            <b id="waypointInfoLong" class="localizable" data-lclstring="longitude"></b><p id="waypointInfoLongField"></p>
            <b id="waypointInfoAlt" class="localizable" data-lclstring="altitude"></b><p id="waypointInfoAltField"></p>
            <b id="waypointInfoRating" class="localizable" data-lclstring="global_rating"></b><p id="waypointInfoRatingField"></p>
            <a href="#" id="waypointInfoButton" class="ui-btn ui-corner-all ui-shadow ui-btn-b localizable" data-lclstring="yes" data-rel="back">OK</a>
        </div>
    </div>

</div><!-- End of fifth page -->

<div data-role="page" id="register" >
    <div data-role="header" data-theme="b">
        <h1 id="registerPageTitle"></h1>
        <a href="#switchboard" class="ui-btn ui-mini ui-btn-left  ui-btn-icon-left ui-btn-icon-notext ui-icon-home ui-corner-all localizable" data-lclstring="home"   data-direction="reverse"></a><!-- home button -->

    </div><!-- /header -->
    <!-- Content -->
    <div id="registerHTML" role="main" class="ui-content"></div>

    <!-- Popups -->
    <div data-role="popup" id="popupRegister" data-arrow="b"  data-position-to="#id_username" class="ui-content">
        <p id="registerMessage"></p>
    </div>
</div>

<div data-role="page" id="login" >
    <div data-role="header" data-theme="b">
        <h1 id="loginPageTitle"></h1>
        <a href="#switchboard" class="ui-btn ui-mini ui-btn-left  ui-btn-icon-left ui-btn-icon-notext ui-icon-home ui-corner-all localizable" data-lclstring="home"   data-direction="reverse"></a><!-- home button -->

    </div><!-- /header -->
    <!-- Content -->
    <div id="loginHTML" role="main" class="ui-content"></div>

    <!-- Popups -->
    <div data-role="popup" id="popupLogin" data-arrow="b"  data-position-to="#id_username" class="ui-content">
        <p id="loginMessage"></p>
    </div>
</div>

</body>
</html>